
You are a code‐equivalence and symbolic‐analysis verifier.

Below are two C snippets:

--- Original Code ---
#include <stdio.h>
  // optional, or just define above
#include "../bonus_calculator.h"  
int compute(int x) {
    int result = x * 2;

    
    // This part calculates a bonus based on some complex criteria.
    int bonus = calculate_bonus(x);
    result += bonus;
    

    return result;
}
--- End Original ---

--- Transformed Code ---
#include <klee/klee.h>

// Stub implementation for calculate_bonus
// Models that bonus is between 0-100 when x > 0, otherwise 0
int calculate_bonus(int x) {
    int bonus;
    klee_make_symbolic(&bonus, sizeof(bonus), "bonus");
    if (x > 0) {
        klee_assume(bonus >= 0 && bonus <= 100);
    } else {
        klee_assume(bonus == 0);
    }
    return bonus;
}

int compute(int x) {
    int result = x * 2;

    // This part calculates a bonus based on some complex criteria.
    int bonus = calculate_bonus(x);
    result += bonus;

    return result;
}
--- End Transformed ---

Your job:

1. **Behavioral equivalence.** Confirm that for *all inputs*, both versions yield identical observable behavior (return values, I/O, side‐effects).  
2. **Symbolic‐execution suitability.** Confirm that no rewrite step breaks KLEE‐friendliness (e.g. missing necessary `klee_assume`, unbounded loops, removed branches).

**Crucial rule for externals/stubs:**  
- If the transform *intentionally* stubbed an external or complex function (e.g. `calculate_bonus`), **do not** flag it as an issue *unless* you *know* of a *specific* missing constraint that’s required for correctness (e.g., “bonus must be ≤ 100” if you know that fact).  
- Otherwise, **silently accept** the stub.

Also:
- **Ignore** style, formatting, or unrelated refactorings.  
- **Only** report issues if you can give **actionable feedback** (e.g. “add `klee_assume(x>=0)` here”).

---

**Respond in this exact format:**

Reasoning:
<short bullet‐points describing any true, resolvable issues>

Decision: YES   # if you find no actionable issues  
Decision: NO    # if you have meaningful feedback

Feedback:
<If NO, list concise, actionable suggestions; if YES, leave blank.>
